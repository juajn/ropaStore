{% extends "base.html" %}
{% block title %}Iniciar Sesión{% endblock %}

{% block content %}
<div class="d-flex justify-content-center align-items-center min-vh-100 bg-light">
  <div class="card shadow-lg border-0 rounded-4 p-4" style="max-width: 420px; width: 100%;">
    <div class="card-body">
      <h3 class="text-center mb-4 text-primary fw-bold">Iniciar Sesión</h3>
      <form method="POST" novalidate>
        <div class="mb-3">
          <label for="email" class="form-label fw-semibold">Correo electrónico</label>
          <input 
            type="email" 
            class="form-control form-control-lg" 
            id="email" 
            name="email" 
            placeholder="ejemplo@correo.com"
            required
          >
          <div class="invalid-feedback">Por favor, introduce un correo válido.</div>
        </div>

        <div class="mb-3 position-relative">
          <label for="password" class="form-label fw-semibold">Contraseña</label>
          <div class="input-group">
            <input 
              type="password" 
              class="form-control form-control-lg" 
              id="password" 
              name="password" 
              placeholder="••••••••"
              required
            >
            <button 
              class="btn btn-outline-secondary" 
              type="button" 
              id="togglePassword"
              tabindex="-1"
            >
              <i class="bi bi-eye"></i>
            </button>
          </div>
          <div class="invalid-feedback">La contraseña es obligatoria.</div>
        </div>

        <button type="submit" class="btn btn-primary btn-lg w-100 mt-3">
          Entrar
        </button>

        <div class="text-center mt-3">
          <small class="text-muted">
            ¿No tienes cuenta?
            <a href="{{ url_for('auth.register') }}" class="text-decoration-none fw-semibold">Regístrate</a>
          </small>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Script para mostrar/ocultar la contraseña -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const togglePassword = document.getElementById("togglePassword");
    const passwordInput = document.getElementById("password");
    togglePassword.addEventListener("click", function() {
      const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
      passwordInput.setAttribute("type", type);
      this.innerHTML = type === "password" 
        ? '<i class="bi bi-eye"></i>' 
        : '<i class="bi bi-eye-slash"></i>';
    });
  });
</script>
{% endblock %}
